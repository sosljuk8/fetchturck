TURCK

// go http client https://pkg.go.dev/net/http

// 5th page
https://www.turck.us/en/productgroup/Identification/Data%20Carriers/pws?iwp[]=pwsPager-G-4&test=test

// 100 on page
https://www.turck.us/en/productgroup/Identification/Data%20Carriers/pws?iwp[]=pwsPager-O-100&test=test

// product page
https://www.turck.us/en/product/100000975

https://www.zenrows.com/blog/web-scraping-golang#scraping-dynamic-content
https://www.hoodoo.digital/blog/how-to-make-a-web-crawler-using-go-and-colly-tutorial
https://www.jianshu.com/p/cbe0f6aae5bf
https://medium.com/@tonywangcn/web-crawling-at-scale-navigating-billions-of-urls-with-efficiency-7a9b9a1e3829



2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Inductive Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Capacitive Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Magnetic Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Ultrasonic Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Linear Position Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Encoders/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Inclination Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Pressure Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Temperature Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Flow Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Level Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Condition Monitoring Sensors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Sensors/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Identification/Read/Write Heads/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Identification/Data Carriers/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Identification/Interface Modules/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Identification/Handhelds/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Identification/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Cordsets/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Receptacles/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Splitters/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Junction Boxes/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Field Wireable Connectors/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Bulk Cable/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Inductive Coupling/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Connectivity/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Fieldbus Technology/Modular I/O/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Fieldbus Technology/Block I/O/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Fieldbus Technology/Foundation Fieldbus and PROFIBUS-PA/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Fieldbus Technology/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Interface Technology/Safety Barriers/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Interface Technology/Zener Barriers/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Interface Technology/Signal Conditioners/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Interface Technology/Control Cabinet Monitoring/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Interface Technology/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Industrial Controls/Programmable HMI/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Industrial Controls/Control/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Industrial Controls/Programmable Gateways/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Industrial Controls/Relays/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Industrial Controls/Accessories/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Power Supplies/In-cabinet (IP20)/pws?iwp[]=pwsPager-O-10000&test=test
2024/02/09 21:50:22 https://www.turck.us/en/productgroup/Power Supplies/On-machine (IP67)/pws?iwp[]=pwsPager-O-10000&test=test




package main

import (
	"encoding/xml"
	"fmt"
	"os"
)

type URLSet struct {
	XMLName string `xml:"urlset"`

	URLs []URL `xml:"url"`
}

type URL struct {
	Loc string `xml:"loc"`
}

func GetUrs() []string {
	return []string{
		"https://www.turck.us/en/productgroup/Sensors/Inductive%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Capacitive%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Magnetic%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Ultrasonic%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Linear%20Position%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Encoders/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Inclination%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Pressure%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Temperature%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Flow%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Level%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Condition%20Monitoring%20Sensors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Sensors/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Identification/Read/Write%20Heads/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Identification/Data%20Carriers/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Identification/Interface%20Modules/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Identification/Handhelds/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Identification/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Cordsets/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Receptacles/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Splitters/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Junction%20Boxes/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Field%20Wireable%20Connectors/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Bulk%20Cable/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Inductive%20Coupling/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Connectivity/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Fieldbus%20Technology/Modular%20I/O/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Fieldbus%20Technology/Block%20I/O/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Fieldbus%20Technology/Foundation%20Fieldbus%20and%20PROFIBUS-PA/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Fieldbus%20Technology/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Interface%20Technology/Safety%20Barriers/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Interface%20Technology/Zener%20Barriers/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Interface%20Technology/Signal%20Conditioners/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Interface%20Technology/Control%20Cabinet%20Monitoring/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Interface%20Technology/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Industrial%20Controls/Programmable HMI/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Industrial%20Controls/Control/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Industrial%20Controls/Programmable Gateways/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Industrial%20Controls/Relays/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Industrial%20Controls/Accessories/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Power%20Supplies/In-cabinet%20(IP20)/pws?iwp[]=pwsPager-O-10000&test=test",
		"https://www.turck.us/en/productgroup/Power%20Supplies/On-machine%20(IP67)/pws?iwp[]=pwsPager-O-10000&test=test",
	}

}

func main() {

	var urls []URL

	for _, url := range GetUrs() {
		urls = append(urls, URL{Loc: url})
	}

	us := URLSet{URLs: urls}

	output, err := xml.MarshalIndent(us, "  ", "    ")
	if err != nil {
		fmt.Printf("error: %v\n", err)
	}

	// write output to file
	file, err := os.Create("turck_sitemap.xml")
	if err != nil {
		fmt.Println("Unable to create file:", err)
		os.Exit(1)
	}
	defer file.Close()
	file.Write(output)
	fmt.Println("Sitemap created.")

	//os.Stdout.Write(output)

	//client := http.DefaultClient
	//
	//req, err := http.NewRequest("GET", "https://www.turck.us/en", nil)
	//if err != nil {
	//	log.Fatalf("error sending HTTP request: %v", err)
	//}
	//// ...
	////req.Header.Add("If-None-Match", `W/"wyzzy"`)
	//resp, err := client.Do(req)
	//if err != nil {
	//	log.Fatalf("error sending HTTP request: %v", err)
	//}
	//responseBytes, err := ioutil.ReadAll(resp.Body)
	//if err != nil {
	//	log.Fatalf("error reading HTTP response body: %v", err)
	//}
	//
	//doc, err := goquery.NewDocumentFromReader(bytes.NewBufferString(string(responseBytes)))
	//if err != nil {
	//	log.Fatal(err)
	//}
	//
	//var links []string
	//
	//doc.Find("ul.navLevel2p li a").Each(func(i int, s *goquery.Selection) {
	//	cat, _ := s.Attr("title")
	//	s.Next().Find("ul.navLevel3p li a").Each(func(i int, s *goquery.Selection) {
	//		subcat, _ := s.Attr("title")
	//		//if emty cat or subcat, continue
	//		if cat == "" || cat == "Downloads" || subcat == "" {
	//			return
	//		}
	//		//link := cat + "/" + subcat
	//		link := "https://www.turck.us/en/productgroup/" + cat + "/" + subcat + "/pws?iwp[]=pwsPager-O-10000&test=test"
	//
	//		links = append(links, link)
	//	})
	//})
	//
	//for _, link := range links {
	//	log.Println(link)
	//}
}





Get started
Quickstart with GitHub Container Registry
Go to https://github.com/settings/tokens
Choose "Generate new token (classic)"
Grant "read:packages" and press "Generate token" button
Save your token to secret manager
Set as environment variable
export GITHUB_REGISTRY_TOKEN=YOUR_TOKEN
echo $GITHUB_REGISTRY_TOKEN | docker login ghcr.io -u USERNAME --password-stdin
You should see "Login Succeeded" message. Then pull the image to local machine:

docker compose -f dev.yaml up -d
Volumes
Two local persistent volumes will be created in host machine.

deploy_erpfs - ERP filesystem
deploy_crmfs - CRM filesystem You can check them with docker volume ls command.
Cleanup
docker compose -f dev.yaml down
docker volume rm deploy_erpfs deploy_crmfs
Clone
Access to github with personal access token (PAT) use the “store” option, create a credentials file at ~/.git-credentials. Enter a single line:

https://{username}:{personal_access_token}@github.com
Then update your git config:

git config --global credential.helper store
git clone https://github.com/snabsystem/legacy.git
git clone https://USERNAME:token@github.com/username/repo.git



echo "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
Docker Compose
alias ss='docker compose --project-directory /src/github.com/snabsystem/deploy -f /src/github.com/snabsystem/deploy/dev.yaml'
Drush
Note drush requires mysql-client.

drush st
Debug
Install xdebug in container:

apk add --no-cache $PHPIZE_DEPS  && pecl install xdebug-3.1.6 && docker-php-ext-enable xdebug
Check xdebug version:

php -i | grep Xdebug
You'll see something like this:

/var/www/erp # php -i | grep Xdebug
    with Xdebug v3.1.6, Copyright (c) 2002-2022, by Derick Rethans
